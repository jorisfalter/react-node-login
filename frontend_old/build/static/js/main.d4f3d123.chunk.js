(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(25)},20:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),o=a.n(r),c=(a(20),a(7)),u=a(3),s=a(27);const i=Object(n.createContext)(),m=e=>{let{children:t}=e;const[a,r]=Object(n.useState)(null);return l.a.createElement(i.Provider,{value:{user:a,login:async(e,t)=>{try{const n=await s.a.post("http://localhost:4000/login",{username:e,password:t});return r(n.data.token),!0}catch(a){return console.error("Login failed",a),!1}},register:async(e,t)=>{try{return await s.a.post("http://localhost:4000/register",{username:e,password:t}),!0}catch(a){return console.error("Registration failed",a),!1}},logout:()=>{r(null)}}},t)};var p=()=>{const{user:e}=Object(n.useContext)(i);return e?l.a.createElement("div",null,l.a.createElement("h1",null,"Home"),l.a.createElement("p",null,"Welcome to the home page!")):l.a.createElement(u.a,{to:"/login"})};var g=()=>{const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),[o,c]=Object(n.useState)(""),[s,m]=Object(n.useState)(""),{login:p,register:g}=Object(n.useContext)(i),E=Object(u.p)();return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement("div",null,l.a.createElement("form",{onSubmit:async t=>{t.preventDefault(),await p(e,a),E("/")},style:{display:"flex",flexDirection:"column",width:"300px"}},l.a.createElement("h2",null,"Login"),l.a.createElement("label",null,"Username:",l.a.createElement("input",{type:"text",value:e,onChange:e=>{t(e.target.value)}})),l.a.createElement("label",null,"Password:",l.a.createElement("input",{type:"password",value:a,onChange:e=>{r(e.target.value)}})),l.a.createElement("button",{type:"submit"},"Login")),l.a.createElement("form",{onSubmit:e=>{e.preventDefault(),g(o,s),E("/")},style:{display:"flex",flexDirection:"column",width:"300px",marginTop:"20px"}},l.a.createElement("h2",null,"Register"),l.a.createElement("label",null,"Username:",l.a.createElement("input",{type:"text",value:o,onChange:e=>{c(e.target.value)}})),l.a.createElement("label",null,"Password:",l.a.createElement("input",{type:"password",value:s,onChange:e=>{m(e.target.value)}})),l.a.createElement("button",{type:"submit"},"Register"))))};var E=function(){return l.a.createElement(m,null,l.a.createElement(c.a,null,l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/login",element:l.a.createElement(g,null)}),l.a.createElement(u.b,{path:"/",element:l.a.createElement(p,null)}))))};var d=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,28)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:o}=t;a(e),n(e),l(e),r(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(E,null))),d()}},[[12,1,2]]]);
//# sourceMappingURL=main.d4f3d123.chunk.js.map